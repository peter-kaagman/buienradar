<!doctype HTML>
<html lang='en'>
	<head>
		<meta charset='utf-8'>
	  <title>Buienradar data</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/buienradar.css">

		  <script type='text/javascript'>
			  function reqListener () {
					if(this.readyState == 4){
					  var data = JSON.parse(this.response);
						console.log(data);
						//Intro
						document.getElementById('sun_up').innerHTML = data.actual.sunrise;
						document.getElementById('sun_down').innerHTML = data.actual.sunset;
						document.getElementById('copyright').innerHTML = data.buienradar.copyright;
						//Weerbericht
						document.getElementById('timestamp').innerHTML = data.forecast.weatherreport.published;
						document.getElementById('author').innerHTML = data.forecast.weatherreport.author;
						document.getElementById('header_weerbericht').innerHTML = data.forecast.weatherreport.title;
						document.getElementById('inhoud_weerbericht').innerHTML = data.forecast.weatherreport.text;

					}
        }

        var oReq = new XMLHttpRequest();
        oReq.addEventListener("load", reqListener);
        oReq.open("GET", "https://data.buienradar.nl/2.0/feed/json");
        oReq.send();
		  </script>

  </head>
	<body>




   <div class="container-fluid">
      <div class="row">
        <div class="col-sm-2">
          <ul class="sidebar-nav">
            <li><a href="/catalog">Home</a></li>
            <li><a href="/catalog/books">All books</a></li>
            <li><a href="/catalog/authors">All authors</a></li>
            <li><a href="/catalog/genres">All genres</a></li>
            <li><a href="/catalog/bookinstances">All book-instances</a></li>
            <li>
              <hr>
            </li>
            <li><a href="/catalog/author/create">Create new author</a></li>
            <li><a href="/catalog/genre/create">Create new genre</a></li>
            <li><a href="/catalog/book/create">Create new book</a></li>
            <li><a href="/catalog/bookinstance/create">Create new book instance (copy)</a></li>
          </ul>
        </div>
        <div class="col-sm-10">
          <h1>Buienradar data</h1>
					<p>Welkom op mijn buienradar demo app. Een website gemaakt met de Buienradr API.</p>
	        <p>Vandaag gaat de zon op om  <span id='sun_up'></span> en onder om <span id='sun_down'></span>.</p>
					<div id='accordion'>

					  <div class='card'>
						  <div class='card-header' id='header-weerbericht'>
							  <h5 class='mw-0'>
								  <button class='btn btn-link' data-toggle='collapse' data-target='#collapse-weerbericht' aria-expanded='true' aria-controls='collapse-weerbericht'>
		                Het weerbericht van <span id='timestamp'></span> door <span id='author'></span>
								  </button>
								</h5>
							<div> <!-- card-header -->
							<div id='collapse-weerbericht' class='collapse show' aria-labelledby='header-weerbericht' data-parent='#accordion'>
							  <div class='card-body'>
		              <dl>
		                <dt><span id='header_weerbericht'></span></dt>
		                <dd><span id='inhoud_weerbericht'></span></dd>
		              </dl>
								</div> <!-- card-body -->
							</div> <!-- collapse-weerbericht -->
            </div> <!-- card -->

					  <div class='card'>
						  <div class='card-header' id='header-verwachting'>
							  <h5 class='mw-0'>
								  <button class='btn btn-link' data-toggle='collapse' data-target='#collapse-verwachting' aria-expanded='false' aria-controls='collapse-verwachting'>
		                De verwachting van <span id='timestamp'></span> door <span id='author'></span>
								  </button>
								</h5>
							<div> <!-- card-header -->
							<div id='collapse-verwachting' class='collapse' aria-labelledby='header-verwachting' data-parent='#accordion'>
							  <div class='card-body'>
		              <dl>
		                <dt><span id='header_verwachting'></span></dt>
		                <dd><span id='inhoud_verwachting'></span></dd>
		              </dl>
								</div> <!-- card-body -->
							</div> <!-- collapse-verwachting -->
            </div> <!-- card -->

					</div> <!-- accordion -->
		      <p id='copyright'></p>
        </div>
      </div>
    </div>



  </body>
</html>
